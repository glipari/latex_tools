\documentclass{article}

\title{Example of revisions}
\author{Giuseppe Lipari\\\texttt{giuseppe.lipari@univ-lille1.fr}}
\def\RevVersion{}
\input{rev-macros}

\begin{document}

\maketitle

\section{Introduction}

This is a simple example of \substituted{use}{usage} of the revision
macros defined in \texttt{rev-macros.tex}. \deleted{We want to delete this sentence.}

Of course, there are several ways to use this. There is the
possibility to correct\deleted{s} typing errors; and also to add
additional text later on; \added{For example this long text has been
  added at the last moment to better explain the use of the added
  macro. As you can see it takes several lines of text.}

Substitute is useful when we want to delete and add at the same
time. We want to substitute this long \substituted{and boring piece of
  text that does not say anything interesting and may be safely
  substitute}{text} with this shorter text.

Notice that there is the possibility to show the revisions, \added{by
  defining RevVersion before including rev-macros.tex;} to show the
old text, \added{by defining OldVersion;} or just show the new
version \added{without defining any macro}.

Finally, at some point the tex file usually becomes cluttered with
added, substituted, deleted macros, and so it is difficult to be
read. In that case, you can eliminate all macros by running the
\added{python} script \texttt{accept\_revisions.py} passing the file
as first argument. The script will search all every use of the macro
in the file and propose you three choices: (a)ccept \added{(accept the
  change)}, (r)eject \added{(revert to the old version)} and (s)kip
\added{(leave the macro in the file)}. 
\substituted{The output is recorded in a
different file with the same name extended with \texttt{\_new.tex}.
}{The script is interactive: it stops at every use of a change macro,
prints two lines before and two lines after the change, and the change
is highlighted in blue. It then asks you if you want to (A)ccept,
(R)eject or (S)kip the change. In any cases, it prints the results
(with the change in bold), before continuing with the following change.}

It also takes three possible options:

\begin{itemize}
\item \texttt{-h, --help} print the help 

\item \texttt{-a, --accept} accept all changes
  (non-interactive) 
\item \texttt{-r, --reject} reject all changes (non-interactive)
\end{itemize}
The changes are written on a \texttt{/tmp/accept-temp} file and
recopied on the original file before the script ends. If you press
\texttt{Ctrl-C} before the script ends, the original file is not
overwritten and the partial changes remain in
\texttt{/tmp/accept-temp}.

Enjoy it! 



\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
